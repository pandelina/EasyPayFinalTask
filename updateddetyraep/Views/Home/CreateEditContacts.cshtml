@model updateddetyraep.Models.Contact
@{
    ViewData["Title"] = "Create/Edit Contact";
}

<div class="text-center">
    <h1 class="display-4">Create/Edit Contact</h1>
</div>

<form asp-action="CreateEditContacts" asp-controller="Home" method="post">

    <input type="hidden" asp-for="Id" />

    <label>First Name</label>
    <input class="form-control" type="text" placeholder="Enter your first name" asp-for="FirstName" />

    <label>Last Name</label>
    <input class="form-control" type="text" placeholder="Enter your last name" asp-for="LastName" />

    <label>Email</label>
    <input class="form-control" type="text" placeholder="Enter your email" asp-for="Email" />

    <label>Phone Numbers</label>
    <div id="phoneNumbersContainer">
        @if (Model.PhoneNumbers != null && Model.PhoneNumbers.Any())
        {
            foreach (var pn in Model.PhoneNumbers)
            {
                <input type="text" name="phoneNumbers" class="form-control mb-2" value="@pn.Number" placeholder="Enter phone number" />
            }
        }
        else
        {
            <input type="text" name="phoneNumbers" class="form-control mb-2" placeholder="Enter phone number" />
        }
    </div>
  
    <div class="mb-3">
        <button type="button" class="btn btn-secondary" onclick="addPhoneNumber()">+ Add another</button>
    </div>

    <div class="mb-3">
        <label>Address</label>
        <input class="form-control" type="text" placeholder="Enter your address" asp-for="Adress" />
    </div>

    <button class="btn btn-primary mt-4" type="submit">Save</button>
</form>

<script>
    function addPhoneNumber() {
        var container = document.getElementById("phoneNumbersContainer");
        var input = document.createElement("input");
        input.type = "text";
        input.name = "phoneNumbers";
        input.className = "form-control mb-2";
        input.placeholder = "Enter phone number";
        container.appendChild(input);
    }
</script>
